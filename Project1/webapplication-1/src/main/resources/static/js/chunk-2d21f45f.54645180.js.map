{"version":3,"sources":["webpack:///./src/views/admin/Driver.vue","webpack:///./src/views/admin/Driver.vue?1894"],"names":["style","class","type","round","open","placeholder","search_drver_name","clearable","load","ref","data","tableData","cell-style","header-cell-style","tooltip-effect","isShow","prop","label","default","scope","row","driver_state","size","icon","findDriverById","driver_id","handleSizeChange","handleCurrentChange","current-page","currentPage","page-sizes","page-size","pageSize","layout","total","title","dialogVisible","width","footer","driver_form","saveDriver","updateDriver","label-position","labelPosition","label-width","model","driver_name","driver_username","driver_password","name","methods","request","get","params","this","then","res","console","log","list","val","post","code","success","message","error","updateDriverStateById","put","created","render"],"mappings":"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","file":"js/chunk-2d21f45f.54645180.js","sourcesContent":["<template>\r\n  <div style=\"padding: 10px\">\r\n    <!-- 头信息 - 新增、搜索、批量操作 -->\r\n    <div>\r\n      <div style=\"float: left;margin: 10px\">\r\n        <el-button type=\"success\" round @click=\"open\">新增司机</el-button>\r\n      </div>\r\n\r\n      <div style=\"margin-top: 10px; float: right;margin-right: 50px\">\r\n        <el-input placeholder=\"请输入名称\" v-model=\"search_drver_name\" clearable style=\"width: 200px\"></el-input>\r\n        <el-button type=\"primary\" round style=\"margin-left: 5px\" @click=\"load()\">查询</el-button>\r\n      </div>\r\n\r\n    </div>\r\n    <!-- 表格 -->\r\n    <div style=\"margin-top: 10px\">\r\n      <el-table\r\n          ref=\"multipleTable\"\r\n          :data=\"tableData\"\r\n          :cell-style=\"{textAlign:'center'}\"\r\n          :header-cell-style=\"{textAlign:'center'}\"\r\n          tooltip-effect=\"dark\"\r\n          style=\"width: 100%\"\r\n      >\r\n        <el-table-column prop=\"driver_id\" label=\"id\" v-if=\"isShow\"></el-table-column>\r\n        <el-table-column prop=\"driver_name\" label=\"司机名称\"></el-table-column>\r\n        <el-table-column prop=\"driver_username\" label=\"司机昵称\"></el-table-column>\r\n        <div style=\"display: none\">\r\n          <el-table-column prop=\"driver_password\" type=\"hidden\" label=\"司机登录密码\"></el-table-column>\r\n        </div>\r\n\r\n        <el-table-column prop=\"driver_state\" label=\"司机状态\">\r\n          <template #default=\"scope\">\r\n            <el-tag type=\"success\" v-if=\"scope.row.driver_state==0\">空闲</el-tag>\r\n            <el-tag type=\"danger\" v-if=\"scope.row.driver_state==1\">忙碌</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"操作\">\r\n          <template #default=\"scope\">\r\n            <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-edit\"\r\n                       @click=\"findDriverById(scope.row.driver_id)\">\r\n              编辑\r\n            </el-button>\r\n            <!--            <el-button size=\"mini\" type=\"danger\" icon=\"el-icon-delete\" circle-->\r\n            <!--                       @click=\"updateDriverStateById(scope.row.tran_id)\">-->\r\n            <!--              停职-->\r\n            <!--            </el-button>-->\r\n            <!--            <el-button v-if=\"scope.row.driver_state==2\" size=\"mini\" type=\"success\" icon=\"el-icon-delete\" circle-->\r\n            <!--                       @click=\"updateDriverStateById(scope.row.tran_id)\">-->\r\n            <!--              复职-->\r\n            <!--            </el-button>-->\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <!-- 分页 -->\r\n    <div style=\"margin-top: 10px\">\r\n      <el-pagination\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"currentPage\"\r\n          :page-sizes=\"[5, 10, 15]\"\r\n          :page-size=\"pageSize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"total\">\r\n      </el-pagination>\r\n    </div>\r\n    <!-- 弹窗 -->\r\n    <div>\r\n      <el-dialog title=\"编辑司机\" v-model=\"dialogVisible\" width=\"35%\">\r\n        <div style=\"width: 350px;margin-left: 40px\">\r\n          <el-form :label-position=\"labelPosition\" label-width=\"80px\" :model=\"driver_form\">\r\n            <el-form-item label=\"司机名称\">\r\n              <el-input v-model=\"driver_form.driver_name\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"司机昵称\">\r\n              <el-input v-model=\"driver_form.driver_username\"></el-input>\r\n            </el-form-item>\r\n            <div>\r\n              <el-form-item label=\"登录密码\">\r\n                <el-input type=\"password\" v-model=\"driver_form.driver_password\"></el-input>\r\n              </el-form-item>\r\n            </div>\r\n\r\n          </el-form>\r\n        </div>\r\n        <template #footer>\r\n    <span class=\"dialog-footer\">\r\n      <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"saveDriver\" v-if=\"driver_form.driver_id == null\">增加司机</el-button>\r\n      <el-button type=\"primary\" @click=\"updateDriver\" v-if=\"driver_form.driver_id != null\">修改司机</el-button>\r\n    </span>\r\n        </template>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"../../utils/request\";\r\nimport {ElMessage} from 'element-plus'\r\n\r\nexport default {\r\n  name: \"Car\",\r\n  data() {\r\n    return {\r\n      //表格数据\r\n      tableData: [],\r\n      //弹窗\r\n      dialogVisible: false,\r\n      //快捷查询的名称\r\n      search_drver_name: '',\r\n      //当前页数\r\n      currentPage: 1,\r\n      //每页大小\r\n      pageSize: 5,\r\n      //总条数\r\n      total: 0,\r\n      //隐藏项目\r\n      isShow: false,\r\n      //表单对齐方式\r\n      labelPosition: 'right',\r\n      //表单数据\r\n      driver_form: {}\r\n    }\r\n  },\r\n  methods: {\r\n    //读取列表数据\r\n    load() {\r\n      request.get('/api/DriverController/findDriverList', {\r\n        params: {\r\n          driver_name: this.search_drver_name,\r\n          currentPage: this.currentPage,\r\n          pageSize: this.pageSize\r\n        }\r\n      }).then(res => {\r\n        console.log(res)\r\n        this.tableData = res.data.list\r\n        this.total = res.data.total\r\n      })\r\n    },\r\n    //改变每页条数\r\n    handleSizeChange(val) {\r\n      this.pageSize = val\r\n      this.load()\r\n    },\r\n    //改变当前页\r\n    handleCurrentChange(val) {\r\n      this.currentPage = val\r\n      this.load()\r\n    },\r\n    // 增加打卡窗口\r\n    open() {\r\n      this.driver_form = {}\r\n      this.dialogVisible = true\r\n    },\r\n\r\n    //增加司机\r\n    saveDriver() {\r\n      request.post('/api/DriverController/saveDriver', this.driver_form).then(res => {\r\n        if (res.code == 0) {\r\n          ElMessage.success({\r\n            message: res.message,\r\n            type: 'success'\r\n          });\r\n        } else {\r\n          ElMessage.error({\r\n            message: res.message,\r\n            type: 'error'\r\n          });\r\n        }\r\n        //关闭对话框\r\n        this.dialogVisible = false\r\n        //load数据\r\n        this.load()\r\n      })\r\n    },\r\n    /*\r\n    * 停职司机\r\n    * */\r\n    updateDriverStateById(driver_id) {\r\n      request.put('/api/DriverController/updateDriverStateById', driver_id).then(res => {\r\n        if (res.code == 0) {\r\n          ElMessage.success({message: res.message, type: 'success'});\r\n        } else {\r\n          ElMessage.error({message: res.message, type: 'error'});\r\n        }\r\n      })\r\n    },\r\n    /*提前查询*/\r\n    findDriverById(driver_id) {\r\n      this.dialogVisible = true\r\n      request.get('/api/DriverController/findDriverById', {\r\n        params: {\r\n          driver_id: driver_id\r\n        }\r\n      }).then(res => {\r\n        if (res.code == 0) {\r\n          this.dialogVisible = true\r\n          this.driver_form = res.data\r\n\r\n        } else {\r\n          ElMessage.error({\r\n            message: res.message,\r\n            type: 'error'\r\n          });\r\n        }\r\n      })\r\n    },\r\n    /*修改*/\r\n    updateDriver() {\r\n      request.put('/api/DriverController/updateDriver', this.driver_form).then(res => {\r\n        if (res.code == 0) {\r\n          ElMessage.success({\r\n            message: res.message,\r\n            type: 'success'\r\n          });\r\n        } else {\r\n          ElMessage.error({\r\n            message: res.message,\r\n            type: 'error'\r\n          });\r\n        }\r\n        this.dialogVisible = false\r\n        this.load()\r\n      })\r\n    }\r\n\r\n\r\n  },\r\n  created() {\r\n    this.load()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./Driver.vue?vue&type=template&id=29b0226e\"\nimport script from \"./Driver.vue?vue&type=script&lang=js\"\nexport * from \"./Driver.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}