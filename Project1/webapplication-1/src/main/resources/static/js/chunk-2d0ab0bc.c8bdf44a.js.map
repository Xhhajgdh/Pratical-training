{"version":3,"sources":["webpack:///./src/views/customer/CustomerFindOrder.vue","webpack:///./src/views/customer/CustomerFindOrder.vue?528b"],"names":["style","class","placeholder","search_customer_name","clearable","type","round","load","ref","data","tableData","cell-style","header-cell-style","tooltip-effect","isShow","prop","label","width","default","scope","row","order_state","size","updateOrderById","order_id","delOrderById","handleSizeChange","handleCurrentChange","current-page","currentPage","page-sizes","page-size","pageSize","layout","total","title","dialogVisible","footer","close","updateOrder","label-position","labelPosition","label-width","model","order_form","order_no","readonly","send_address","arrive_address","order_create_date","order_arrive_username","order_arrive_usertel","order_money","name","customer_form","customer12","JSON","parse","sessionStorage","getItem","methods","request","get","params","this","customer_id","then","res","console","log","list","val","delete","code","success","message","error","put","created","render"],"mappings":"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","file":"js/chunk-2d0ab0bc.c8bdf44a.js","sourcesContent":["<template>\r\n  <div style=\"padding: 10px\">\r\n    <!-- 头信息 - 新增、搜索、批量操作 -->\r\n    <div>\r\n\r\n      <div style=\"margin-top: 10px; float: right;margin-right: 50px\">\r\n        <el-input placeholder=\"请输入名称\" v-model=\"search_customer_name\" clearable style=\"width: 200px\"></el-input>\r\n        <el-button type=\"primary\" round style=\"margin-left: 5px\" @click=\"load()\">查询</el-button>\r\n      </div>\r\n\r\n    </div>\r\n    <!-- 表格 -->\r\n    <div style=\"margin-top: 10px\">\r\n      <el-table\r\n        ref=\"multipleTable\"\r\n        :data=\"tableData\"\r\n        :cell-style=\"{textAlign:'center'}\"\r\n        :header-cell-style=\"{textAlign:'center'}\"\r\n        tooltip-effect=\"dark\"\r\n        style=\"width: 100%\"\r\n      >\r\n        <el-table-column prop=\"order_id\" label=\"id\" v-if=\"isShow\"></el-table-column>\r\n        <el-table-column prop=\"order_no\" label=\"订单号码\" width=\"95px\"></el-table-column>\r\n        <el-table-column prop=\"order_state\" label=\"订单状态\" width=\"70px\">\r\n          <template #default=\"scope\">\r\n            <span v-if=\"scope.row.order_state==0\" style=\"color:red;\">待审核</span>\r\n            <span v-if=\"scope.row.order_state==1\" style=\"color:deeppink;\">运输中</span>\r\n            <span v-if=\"scope.row.order_state==2\" style=\"color:orange;\">已到货</span>\r\n            <span v-if=\"scope.row.order_state==3\" style=\"color:green;\">订单完成</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"send_date\" label=\"发货时间\" width=\"85px\"></el-table-column>\r\n        <el-table-column prop=\"arrive_date\" label=\"到达时间\" width=\"85px\"></el-table-column>\r\n        <el-table-column prop=\"send_address\" label=\"发货地址\" ></el-table-column>\r\n        <el-table-column prop=\"arrive_address\" label=\"送货地址\"></el-table-column>\r\n        <el-table-column prop=\"order_create_date\" label=\"订单创建时间\"></el-table-column>\r\n        <el-table-column prop=\"order_arrive_username\" label=\"收件人\" width=\"70px\"></el-table-column>\r\n        <el-table-column prop=\"order_arrive_usertel\" label=\"收件人电话\"></el-table-column>\r\n        <el-table-column prop=\"order_driver.driver_name\" label=\"司机名称\" width=\"70px\"></el-table-column>\r\n        <el-table-column prop=\"order_tran.tran_name\" label=\"运输工具\"></el-table-column>\r\n        <el-table-column prop=\"order_state\" label=\"操作\" width=\"200px\">\r\n          <template #default=\"scope\">\r\n            <el-button v-if=\"scope.row.order_state==0\" size=\"mini\" type=\"danger\" v-on:click=\"updateOrderById(scope.row.order_id)\">修改</el-button>\r\n            <el-button v-if=\"scope.row.order_state==0\" size=\"mini\" type=\"danger\" v-on:click=\"delOrderById(scope.row.order_id)\">撤销</el-button>\r\n            <el-button v-if=\"scope.row.order_state==1\" size=\"mini\" type=\"danger\" v-on:click=\"updateOrderById(scope.row.order_id)\">修改</el-button>\r\n            <el-tag type=\"danger\" v-if=\"scope.row.order_state==2||scope.row.order_state==3\">无法操作</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n\r\n\r\n      </el-table>\r\n    </div>\r\n    <!-- 分页 -->\r\n    <div style=\"margin-top: 10px\">\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"currentPage\"\r\n        :page-sizes=\"[5, 10, 15]\"\r\n        :page-size=\"pageSize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\">\r\n      </el-pagination>\r\n    </div>\r\n    <!--  弹窗  -->\r\n    <div>\r\n      <el-dialog title=\"审核客户\" v-model=\"dialogVisible\" width=\"35%\">\r\n        <div style=\"width: 350px;margin-left: 40px\">\r\n          <el-form :label-position=\"labelPosition\" label-width=\"80px\" :model=\"order_form\">\r\n\r\n            <el-form-item label=\"订单编号\">\r\n              <el-input v-model=\"order_form.order_no\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"发货地址\">\r\n              <el-input v-model=\"order_form.send_address\" v-if=\"order_form.order_state==0\"></el-input>\r\n              <el-input v-model=\"order_form.send_address\" v-if=\"order_form.order_state==1\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"送货地址\">\r\n              <el-input v-model=\"order_form.arrive_address\" v-if=\"order_form.order_state==0\"></el-input>\r\n              <el-input v-model=\"order_form.arrive_address\" v-if=\"order_form.order_state==1\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"创建时间\">\r\n              <el-input v-model=\"order_form.order_create_date\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"收件人员\">\r\n              <el-input v-model=\"order_form.order_arrive_username\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"联系电话\">\r\n              <el-input v-model=\"order_form.order_arrive_usertel\"></el-input>\r\n            </el-form-item>\r\n            <div v-if=\"order_form.order_state==1\">\r\n              <el-form-item label=\"运费\">\r\n                <el-input v-model=\"order_form.order_money\" readonly></el-input>\r\n              </el-form-item>\r\n            </div>\r\n          </el-form>\r\n        </div>\r\n        <template #footer>\r\n    <span class=\"dialog-footer\">\r\n      <el-button @click=\"close\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"updateOrder()\">确认订单</el-button>\r\n    </span>\r\n        </template>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import request from \"../../utils/request\";\r\n  import {ElMessage} from 'element-plus'\r\n\r\n  export default {\r\n    name: \"CustomerFindOrder\",\r\n    data() {\r\n      return {\r\n        //表格数据\r\n        tableData: [],\r\n        //弹窗\r\n        dialogVisible: false,\r\n        //快捷查询的名称\r\n        search_customer_name: '',\r\n        //当前页数\r\n        currentPage: 1,\r\n        //每页大小\r\n        pageSize: 5,\r\n        //总条数\r\n        total: 0,\r\n        //隐藏项目\r\n        isShow: false,\r\n        //表单对齐方式\r\n        labelPosition: 'right',\r\n        //表单数据\r\n        customer_form: {},\r\n        customer12:JSON.parse(sessionStorage.getItem(\"customer\")),\r\n        order_form:{},\r\n        readonly:true\r\n      }\r\n    },\r\n    methods: {\r\n      //读取列表数据\r\n      load() {\r\n        request.get('/api/CustomerController/findCustomerOwnOrder', {\r\n          params: {\r\n            /*customer_name: this.search_customer_name,*/\r\n            currentPage: this.currentPage,\r\n            pageSize: this.pageSize,\r\n            customer_id:this.customer12.customer_id\r\n          }\r\n        }).then(res => {\r\n          console.log(res)\r\n          this.tableData = res.data.list\r\n          this.total = res.data.total\r\n        })\r\n      },\r\n      //改变每页条数\r\n      handleSizeChange(val) {\r\n        this.pageSize = val\r\n        this.load()\r\n      },\r\n      //改变当前页\r\n      handleCurrentChange(val) {\r\n        this.currentPage = val\r\n        this.load()\r\n      },\r\n      //撤销订单\r\n      delOrderById(order_id){\r\n        request.delete('/api/OrderController/delOrderById',{\r\n          params:{\r\n            order_id:order_id\r\n          }\r\n        }).then(res => {\r\n          if(res.code==0){\r\n            ElMessage.success({message: res.message, type: 'success'});\r\n            this.load()\r\n          }else{\r\n            ElMessage.error({message: res.message, type: 'error'});\r\n          }\r\n        })\r\n      },\r\n      updateOrderById(order_id){\r\n        this.dialogVisible=true\r\n        request.get('/api/OrderController/adminFindOrderContent',{\r\n          params:{\r\n            order_id:order_id\r\n          }\r\n        }).then(res =>{\r\n          this.order_form=res.data\r\n        })\r\n      },\r\n      updateOrder(){\r\n        request.put('/api/OrderController/customerUpdateOrder',this.order_form).then(res =>{\r\n          if(res.code==0){\r\n            ElMessage.success({message: res.message, type: 'success'});\r\n            this.load()\r\n            this.dialogVisible=false\r\n          }else{\r\n            ElMessage.error({message: res.message, type: 'error'});\r\n          }\r\n        })\r\n      }\r\n\r\n    },\r\n    created() {\r\n      this.load()\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./CustomerFindOrder.vue?vue&type=template&id=30926c88\"\nimport script from \"./CustomerFindOrder.vue?vue&type=script&lang=js\"\nexport * from \"./CustomerFindOrder.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}