(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2183f8"],{c9d0:function(e,t,r){"use strict";r.r(t);var n=r("7a23"),l={style:{padding:"10px"}},a={style:{"margin-top":"10px"}},o={key:0,style:{color:"red"}},d={key:1,style:{color:"aquamarine"}},i={key:2,style:{color:"orange"}},c={key:3,style:{color:"green"}},u=Object(n["p"])("审核订单 "),b=Object(n["p"])("运输中"),j=Object(n["p"])("已到货"),s=Object(n["p"])("订单完成"),O={style:{"margin-top":"10px"}},m={style:{width:"350px","margin-left":"40px"}},f={style:{border:"1px solid black","margin-bottom":"10px"}},_=Object(n["n"])("small",{style:{color:"#409EFF"}},"收费规则：(吨,公里)",-1),p={style:{display:"flex"}},h=Object(n["n"])("span",null,"每吨收费",-1),g=Object(n["n"])("span",null,"每公里收费",-1),y=Object(n["n"])("small",{style:{color:"#409EFF"}},"运费计算",-1),v=Object(n["n"])("span",null,"请输入货物重量：",-1),V={style:{"margin-top":"10px"}},q=Object(n["n"])("span",null,"请输入运输距离：",-1),C={style:{color:"black"}},k=Object(n["p"])("最低收费参考："),U={style:{color:"gold"}},w={class:"dialog-footer"},z=Object(n["p"])("取 消"),x=Object(n["p"])("确认订单");function L(e,t,r,L,S,F){var D=Object(n["U"])("el-table-column"),I=Object(n["U"])("el-button"),Y=Object(n["U"])("el-tag"),T=Object(n["U"])("el-table"),P=Object(n["U"])("el-pagination"),H=Object(n["U"])("el-input"),M=Object(n["U"])("el-form-item"),A=Object(n["U"])("el-date-picker"),B=Object(n["U"])("el-option"),E=Object(n["U"])("el-select"),J=Object(n["U"])("el-input-number"),G=Object(n["U"])("el-form"),K=Object(n["U"])("el-dialog");return Object(n["L"])(),Object(n["m"])("div",l,[Object(n["n"])("div",a,[Object(n["q"])(T,{ref:"multipleTable",data:S.tableData,"cell-style":{textAlign:"center"},"header-cell-style":{textAlign:"center"},"tooltip-effect":"dark",style:{width:"100%"}},{default:Object(n["jb"])((function(){return[S.isShow?(Object(n["L"])(),Object(n["k"])(D,{key:0,prop:"order_id",label:"id"})):Object(n["l"])("",!0),Object(n["q"])(D,{prop:"order_no",label:"订单号码"}),Object(n["q"])(D,{prop:"order_state",label:"订单状态",width:"100px"},{default:Object(n["jb"])((function(e){return[0==e.row.order_state?(Object(n["L"])(),Object(n["m"])("span",o,"待审核")):Object(n["l"])("",!0),1==e.row.order_state?(Object(n["L"])(),Object(n["m"])("span",d,"运输中")):Object(n["l"])("",!0),2==e.row.order_state?(Object(n["L"])(),Object(n["m"])("span",i,"已到货")):Object(n["l"])("",!0),3==e.row.order_state?(Object(n["L"])(),Object(n["m"])("span",c,"订单完成")):Object(n["l"])("",!0)]})),_:1}),Object(n["q"])(D,{prop:"send_date",label:"发货时间"}),Object(n["q"])(D,{prop:"arrive_date",label:"到达时间"}),Object(n["q"])(D,{prop:"send_address",label:"发货地址"}),Object(n["q"])(D,{prop:"arrive_address",label:"送货地址"}),Object(n["q"])(D,{prop:"order_create_date",label:"订单创建时间"}),Object(n["q"])(D,{prop:"order_arrive_username",label:"收件人"}),Object(n["q"])(D,{prop:"order_arrive_usertel",label:"收件人电话"}),Object(n["q"])(D,{label:"操作"},{default:Object(n["jb"])((function(e){return[0==e.row.order_state?(Object(n["L"])(),Object(n["k"])(I,{key:0,size:"mini",type:"primary",onClick:function(t){return F.findOrderById(e.row.order_id)}},{default:Object(n["jb"])((function(){return[u]})),_:2},1032,["onClick"])):Object(n["l"])("",!0),1==e.row.order_state?(Object(n["L"])(),Object(n["k"])(Y,{key:1,type:"success"},{default:Object(n["jb"])((function(){return[b]})),_:1})):Object(n["l"])("",!0),2==e.row.order_state?(Object(n["L"])(),Object(n["k"])(Y,{key:2,type:"success"},{default:Object(n["jb"])((function(){return[j]})),_:1})):Object(n["l"])("",!0),3==e.row.order_state?(Object(n["L"])(),Object(n["k"])(Y,{key:3,type:"success"},{default:Object(n["jb"])((function(){return[s]})),_:1})):Object(n["l"])("",!0)]})),_:1})]})),_:1},8,["data"])]),Object(n["n"])("div",O,[Object(n["q"])(P,{onSizeChange:F.handleSizeChange,onCurrentChange:F.handleCurrentChange,"current-page":S.currentPage,"page-sizes":[5,10,15],"page-size":S.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:S.total},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])]),Object(n["n"])("div",null,[Object(n["q"])(K,{title:"审核客户",modelValue:S.dialogVisible,"onUpdate:modelValue":t[16]||(t[16]=function(e){return S.dialogVisible=e}),width:"35%"},{footer:Object(n["jb"])((function(){return[Object(n["n"])("span",w,[Object(n["q"])(I,{onClick:F.close},{default:Object(n["jb"])((function(){return[z]})),_:1},8,["onClick"]),Object(n["q"])(I,{type:"primary",onClick:F.updateOrder},{default:Object(n["jb"])((function(){return[x]})),_:1},8,["onClick"])])]})),default:Object(n["jb"])((function(){return[Object(n["n"])("div",m,[Object(n["q"])(G,{"label-position":S.labelPosition,"label-width":"80px",model:S.order_form},{default:Object(n["jb"])((function(){return[Object(n["q"])(M,{label:"订单编号"},{default:Object(n["jb"])((function(){return[Object(n["q"])(H,{modelValue:S.order_form.order_no,"onUpdate:modelValue":t[0]||(t[0]=function(e){return S.order_form.order_no=e}),readonly:""},null,8,["modelValue"])]})),_:1}),Object(n["q"])(M,{label:"发货时间"},{default:Object(n["jb"])((function(){return[Object(n["q"])(A,{modelValue:S.order_form.send_date,"onUpdate:modelValue":t[1]||(t[1]=function(e){return S.order_form.send_date=e}),type:"datetime",placeholder:"选择日期时间","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]})),_:1}),Object(n["q"])(M,{label:"到货时间"},{default:Object(n["jb"])((function(){return[Object(n["q"])(A,{modelValue:S.order_form.arrive_date,"onUpdate:modelValue":t[2]||(t[2]=function(e){return S.order_form.arrive_date=e}),type:"datetime",placeholder:"选择日期时间","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]})),_:1}),Object(n["q"])(M,{label:"送货地址"},{default:Object(n["jb"])((function(){return[Object(n["q"])(H,{modelValue:S.order_form.send_address,"onUpdate:modelValue":t[3]||(t[3]=function(e){return S.order_form.send_address=e}),readonly:""},null,8,["modelValue"])]})),_:1}),Object(n["q"])(M,{label:"送货地址"},{default:Object(n["jb"])((function(){return[Object(n["q"])(H,{modelValue:S.order_form.arrive_address,"onUpdate:modelValue":t[4]||(t[4]=function(e){return S.order_form.arrive_address=e}),readonly:""},null,8,["modelValue"])]})),_:1}),Object(n["q"])(M,{label:"创建时间"},{default:Object(n["jb"])((function(){return[Object(n["q"])(H,{modelValue:S.order_form.order_create_date,"onUpdate:modelValue":t[5]||(t[5]=function(e){return S.order_form.order_create_date=e}),readonly:""},null,8,["modelValue"])]})),_:1}),Object(n["q"])(M,{label:"收件人员"},{default:Object(n["jb"])((function(){return[Object(n["q"])(H,{modelValue:S.order_form.order_arrive_username,"onUpdate:modelValue":t[6]||(t[6]=function(e){return S.order_form.order_arrive_username=e}),readonly:""},null,8,["modelValue"])]})),_:1}),Object(n["q"])(M,{label:"联系电话"},{default:Object(n["jb"])((function(){return[Object(n["q"])(H,{modelValue:S.order_form.order_arrive_usertel,"onUpdate:modelValue":t[7]||(t[7]=function(e){return S.order_form.order_arrive_usertel=e}),readonly:""},null,8,["modelValue"])]})),_:1}),Object(n["q"])(M,{label:"选择司机"},{default:Object(n["jb"])((function(){return[Object(n["q"])(E,{style:{"margin-left":"5px"},modelValue:S.order_driver.driver_id,"onUpdate:modelValue":t[8]||(t[8]=function(e){return S.order_driver.driver_id=e}),placeholder:"请选择"},{default:Object(n["jb"])((function(){return[(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["S"])(S.driver_list,(function(e){return Object(n["L"])(),Object(n["k"])(B,{key:e.driver_id,label:e.driver_name,value:e.driver_id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(n["n"])("div",f,[Object(n["n"])("div",null,[_,Object(n["n"])("div",p,[Object(n["n"])("div",null,[h,Object(n["q"])(J,{modelValue:S.zl,"onUpdate:modelValue":t[9]||(t[9]=function(e){return S.zl=e}),"controls-position":"right",onChange:F.handleChange1,min:100},null,8,["modelValue","onChange"])]),Object(n["n"])("div",null,[g,Object(n["q"])(J,{modelValue:S.jl,"onUpdate:modelValue":t[10]||(t[10]=function(e){return S.jl=e}),"controls-position":"right",onChange:F.handleChange2,min:1},null,8,["modelValue","onChange"])])])]),Object(n["n"])("div",null,[y,Object(n["n"])("div",null,[v,Object(n["q"])(J,{modelValue:S.zhongliang,"onUpdate:modelValue":t[11]||(t[11]=function(e){return S.zhongliang=e}),onChange:F.handleChange4,min:1},null,8,["modelValue","onChange"])]),Object(n["n"])("div",V,[q,Object(n["q"])(J,{modelValue:S.juli,"onUpdate:modelValue":t[12]||(t[12]=function(e){return S.juli=e}),onChange:F.handleChange3,min:1},null,8,["modelValue","onChange"])]),Object(n["n"])("p",C,[k,Object(n["n"])("span",U,Object(n["Y"])(S.heji),1)])])]),Object(n["q"])(M,{label:"选择货车"},{default:Object(n["jb"])((function(){return[Object(n["q"])(E,{style:{"margin-left":"5px"},modelValue:S.order_tran.tran_id,"onUpdate:modelValue":t[13]||(t[13]=function(e){return S.order_tran.tran_id=e}),placeholder:"请选择",onChange:t[14]||(t[14]=function(e){return F.getTran_money(S.order_tran.tran_id)})},{default:Object(n["jb"])((function(){return[(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["S"])(S.tran_list,(function(e){return Object(n["L"])(),Object(n["k"])(B,{key:e.tran_id,label:e.tran_name,value:e.tran_id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(n["q"])(M,{label:"运费总计"},{default:Object(n["jb"])((function(){return[Object(n["q"])(H,{modelValue:S.order_money,"onUpdate:modelValue":t[15]||(t[15]=function(e){return S.order_money=e}),readonly:""},null,8,["modelValue"])]})),_:1})]})),_:1},8,["label-position","model"])])]})),_:1},8,["modelValue"])])])}var S=r("b775"),F=r("4995"),D={name:"Car",data:function(){return{tableData:[],dialogVisible:!1,search_customer_name:"",currentPage:1,pageSize:5,total:0,isShow:!1,labelPosition:"right",order_form:{},driver_list:[],tran_list:[],order_driver:{driver_id:""},order_tran:{tran_id:""},order_money:"",tran_money:"",jl:2,zl:100,juli:1,zhongliang:1,heji:0}},methods:{load:function(){var e=this;S["a"].get("/api/OrderController/adminFindAllOrder",{params:{currentPage:this.currentPage,pageSize:this.pageSize}}).then((function(t){console.log(t),e.tableData=t.data.list,e.total=t.data.total}))},handleSizeChange:function(e){this.pageSize=e,this.load()},handleCurrentChange:function(e){this.currentPage=e,this.load()},findOrderById:function(e){var t=this;this.dialogVisible=!0,this.findDriverFlagIs0(),this.findTranFlagIs1(),S["a"].get("/api/OrderController/adminFindOrderContent",{params:{order_id:e}}).then((function(e){t.order_form=e.data})),this.load()},findDriverFlagIs0:function(){var e=this;S["a"].get("/api/OrderController/findDriverFlagIs0").then((function(t){0==t.code?e.driver_list=t.data:F["a"].error({message:t.message,type:"error"})}))},findTranFlagIs1:function(){var e=this;S["a"].get("/api/OrderController/findTranFlagIs1").then((function(t){0==t.code?e.tran_list=t.data:F["a"].error({message:t.message,type:"error"})}))},close:function(){this.dialogVisible=!1},updateOrder:function(){var e=this;this.order_form.order_driver=this.order_driver,this.order_form.order_tran=this.order_tran,this.order_form.order_money=this.order_money,S["a"].put("/api/OrderController/adminUpdateOrder",this.order_form).then((function(t){0==t.code?e.dialogVisible=!1:F["a"].error({message:t.message,type:"error"})}))},handleChange1:function(){this.jisuan()},handleChange2:function(){this.jisuan()},handleChange3:function(){this.jisuan()},handleChange4:function(){this.jisuan()},jisuan:function(){this.heji=this.juli*this.jl+this.zhongliang*this.zl,this.total_money()},getTran_money:function(e){var t=this;S["a"].get("/api/TranController/findTranById",{params:{tran_id:e}}).then((function(e){t.tran_money=e.data.tran_money,t.total_money()}))},total_money:function(){this.order_money=this.heji+this.tran_money}},created:function(){this.load()}};D.render=L;t["default"]=D}}]);
//# sourceMappingURL=chunk-2d2183f8.30fd6a6b.js.map