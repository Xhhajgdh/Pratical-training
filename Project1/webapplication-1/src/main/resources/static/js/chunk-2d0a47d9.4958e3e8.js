(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a47d9"],{"0751":function(e,t,r){"use strict";r.r(t);var n=r("7a23"),l={style:{padding:"10px"}},a={style:{"margin-top":"10px"}},o={key:0,style:{color:"red"}},d={key:1,style:{color:"deeppink"}},i={key:2,style:{color:"orange"}},u={key:3,style:{color:"green"}},c=Object(n["p"])(" 审核订单 "),b={style:{"margin-top":"10px"}},s={style:{width:"350px","margin-left":"40px"}},j={style:{border:"1px solid black","margin-bottom":"10px"}},m=Object(n["n"])("small",{style:{color:"#409EFF"}},"收费规则：(吨,公里)",-1),O={style:{display:"flex"}},f=Object(n["n"])("span",null,"每吨收费",-1),_=Object(n["n"])("span",null,"每公里收费",-1),p=Object(n["n"])("small",{style:{color:"#409EFF"}},"运费计算",-1),h=Object(n["n"])("span",null,"请输入货物重量：",-1),g={style:{"margin-top":"10px"}},y=Object(n["n"])("span",null,"请输入运输距离：",-1),v={style:{color:"black"}},V=Object(n["p"])("最低收费参考："),C={style:{color:"gold"}},q={class:"dialog-footer"},U=Object(n["p"])("取 消"),k=Object(n["p"])("确认订单");function z(e,t,r,z,w,x){var F=Object(n["U"])("el-table-column"),S=Object(n["U"])("el-button"),D=Object(n["U"])("el-table"),I=Object(n["U"])("el-pagination"),L=Object(n["U"])("el-input"),Y=Object(n["U"])("el-form-item"),T=Object(n["U"])("el-date-picker"),P=Object(n["U"])("el-option"),H=Object(n["U"])("el-select"),M=Object(n["U"])("el-input-number"),B=Object(n["U"])("el-form"),A=Object(n["U"])("el-dialog");return Object(n["L"])(),Object(n["m"])("div",l,[Object(n["n"])("div",a,[Object(n["q"])(D,{ref:"multipleTable",data:w.tableData,"cell-style":{textAlign:"center"},"header-cell-style":{textAlign:"center"},"tooltip-effect":"dark",style:{width:"100%"}},{default:Object(n["jb"])((function(){return[w.isShow?(Object(n["L"])(),Object(n["k"])(F,{key:0,prop:"order_id",label:"id"})):Object(n["l"])("",!0),Object(n["q"])(F,{prop:"order_no",label:"订单号码"}),Object(n["q"])(F,{prop:"order_state",label:"订单状态"},{default:Object(n["jb"])((function(e){return[0==e.row.order_state?(Object(n["L"])(),Object(n["m"])("span",o,"待审核")):Object(n["l"])("",!0),1==e.row.order_state?(Object(n["L"])(),Object(n["m"])("span",d,"运输中")):Object(n["l"])("",!0),2==e.row.order_state?(Object(n["L"])(),Object(n["m"])("span",i,"已到货")):Object(n["l"])("",!0),3==e.row.order_state?(Object(n["L"])(),Object(n["m"])("span",u,"订单完成")):Object(n["l"])("",!0)]})),_:1}),Object(n["q"])(F,{prop:"send_address",label:"发货地址"}),Object(n["q"])(F,{prop:"arrive_address",label:"送货地址"}),Object(n["q"])(F,{prop:"order_create_date",label:"订单创建时间"}),Object(n["q"])(F,{prop:"order_arrive_username",label:"收件人"}),Object(n["q"])(F,{prop:"order_arrive_usertel",label:"收件人电话"}),Object(n["q"])(F,{label:"操作"},{default:Object(n["jb"])((function(e){return[Object(n["q"])(S,{size:"mini",type:"primary",icon:"el-icon-edit",onClick:function(t){return x.findOrderById(e.row.order_id)}},{default:Object(n["jb"])((function(){return[c]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"])]),Object(n["n"])("div",b,[Object(n["q"])(I,{onSizeChange:x.handleSizeChange,onCurrentChange:x.handleCurrentChange,"current-page":w.currentPage,"page-sizes":[5,10,15],"page-size":w.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:w.total},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])]),Object(n["n"])("div",null,[Object(n["q"])(A,{title:"审核客户",modelValue:w.dialogVisible,"onUpdate:modelValue":t[16]||(t[16]=function(e){return w.dialogVisible=e}),width:"35%"},{footer:Object(n["jb"])((function(){return[Object(n["n"])("span",q,[Object(n["q"])(S,{onClick:x.close},{default:Object(n["jb"])((function(){return[U]})),_:1},8,["onClick"]),Object(n["q"])(S,{type:"primary",onClick:x.updateOrder},{default:Object(n["jb"])((function(){return[k]})),_:1},8,["onClick"])])]})),default:Object(n["jb"])((function(){return[Object(n["n"])("div",s,[Object(n["q"])(B,{"label-position":w.labelPosition,"label-width":"80px",model:w.order_form},{default:Object(n["jb"])((function(){return[Object(n["q"])(Y,{label:"订单编号"},{default:Object(n["jb"])((function(){return[Object(n["q"])(L,{modelValue:w.order_form.order_no,"onUpdate:modelValue":t[0]||(t[0]=function(e){return w.order_form.order_no=e}),readonly:""},null,8,["modelValue"])]})),_:1}),Object(n["q"])(Y,{label:"发货时间"},{default:Object(n["jb"])((function(){return[Object(n["q"])(T,{modelValue:w.order_form.send_date,"onUpdate:modelValue":t[1]||(t[1]=function(e){return w.order_form.send_date=e}),type:"datetime",placeholder:"选择日期时间","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]})),_:1}),Object(n["q"])(Y,{label:"到货时间"},{default:Object(n["jb"])((function(){return[Object(n["q"])(T,{modelValue:w.order_form.arrive_date,"onUpdate:modelValue":t[2]||(t[2]=function(e){return w.order_form.arrive_date=e}),type:"datetime",placeholder:"选择日期时间","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]})),_:1}),Object(n["q"])(Y,{label:"送货地址"},{default:Object(n["jb"])((function(){return[Object(n["q"])(L,{modelValue:w.order_form.send_address,"onUpdate:modelValue":t[3]||(t[3]=function(e){return w.order_form.send_address=e}),readonly:""},null,8,["modelValue"])]})),_:1}),Object(n["q"])(Y,{label:"送货地址"},{default:Object(n["jb"])((function(){return[Object(n["q"])(L,{modelValue:w.order_form.arrive_address,"onUpdate:modelValue":t[4]||(t[4]=function(e){return w.order_form.arrive_address=e}),readonly:""},null,8,["modelValue"])]})),_:1}),Object(n["q"])(Y,{label:"创建时间"},{default:Object(n["jb"])((function(){return[Object(n["q"])(L,{modelValue:w.order_form.order_create_date,"onUpdate:modelValue":t[5]||(t[5]=function(e){return w.order_form.order_create_date=e}),readonly:""},null,8,["modelValue"])]})),_:1}),Object(n["q"])(Y,{label:"收件人员"},{default:Object(n["jb"])((function(){return[Object(n["q"])(L,{modelValue:w.order_form.order_arrive_username,"onUpdate:modelValue":t[6]||(t[6]=function(e){return w.order_form.order_arrive_username=e}),readonly:""},null,8,["modelValue"])]})),_:1}),Object(n["q"])(Y,{label:"联系电话"},{default:Object(n["jb"])((function(){return[Object(n["q"])(L,{modelValue:w.order_form.order_arrive_usertel,"onUpdate:modelValue":t[7]||(t[7]=function(e){return w.order_form.order_arrive_usertel=e}),readonly:""},null,8,["modelValue"])]})),_:1}),Object(n["q"])(Y,{label:"选择司机"},{default:Object(n["jb"])((function(){return[Object(n["q"])(H,{style:{"margin-left":"5px"},modelValue:w.order_driver.driver_id,"onUpdate:modelValue":t[8]||(t[8]=function(e){return w.order_driver.driver_id=e}),placeholder:"请选择"},{default:Object(n["jb"])((function(){return[(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["S"])(w.driver_list,(function(e){return Object(n["L"])(),Object(n["k"])(P,{key:e.driver_id,label:e.driver_name,value:e.driver_id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(n["n"])("div",j,[Object(n["n"])("div",null,[m,Object(n["n"])("div",O,[Object(n["n"])("div",null,[f,Object(n["q"])(M,{modelValue:w.zl,"onUpdate:modelValue":t[9]||(t[9]=function(e){return w.zl=e}),"controls-position":"right",onChange:x.handleChange1,min:100},null,8,["modelValue","onChange"])]),Object(n["n"])("div",null,[_,Object(n["q"])(M,{modelValue:w.jl,"onUpdate:modelValue":t[10]||(t[10]=function(e){return w.jl=e}),"controls-position":"right",onChange:x.handleChange2,min:1},null,8,["modelValue","onChange"])])])]),Object(n["n"])("div",null,[p,Object(n["n"])("div",null,[h,Object(n["q"])(M,{modelValue:w.zhongliang,"onUpdate:modelValue":t[11]||(t[11]=function(e){return w.zhongliang=e}),onChange:x.handleChange4,min:1},null,8,["modelValue","onChange"])]),Object(n["n"])("div",g,[y,Object(n["q"])(M,{modelValue:w.juli,"onUpdate:modelValue":t[12]||(t[12]=function(e){return w.juli=e}),onChange:x.handleChange3,min:1},null,8,["modelValue","onChange"])]),Object(n["n"])("p",v,[V,Object(n["n"])("span",C,Object(n["Y"])(w.heji),1)])])]),Object(n["q"])(Y,{label:"选择货车"},{default:Object(n["jb"])((function(){return[Object(n["q"])(H,{style:{"margin-left":"5px"},modelValue:w.order_tran.tran_id,"onUpdate:modelValue":t[13]||(t[13]=function(e){return w.order_tran.tran_id=e}),placeholder:"请选择",onChange:t[14]||(t[14]=function(e){return x.getTran_money(w.order_tran.tran_id)})},{default:Object(n["jb"])((function(){return[(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["S"])(w.tran_list,(function(e){return Object(n["L"])(),Object(n["k"])(P,{key:e.tran_id,label:e.tran_name,value:e.tran_id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(n["q"])(Y,{label:"运费总计"},{default:Object(n["jb"])((function(){return[Object(n["q"])(L,{modelValue:w.order_money,"onUpdate:modelValue":t[15]||(t[15]=function(e){return w.order_money=e}),readonly:""},null,8,["modelValue"])]})),_:1})]})),_:1},8,["label-position","model"])])]})),_:1},8,["modelValue"])])])}var w=r("b775"),x=r("4995"),F={name:"Car",data:function(){return{tableData:[],dialogVisible:!1,search_customer_name:"",currentPage:1,pageSize:5,total:0,isShow:!1,labelPosition:"right",order_form:{},driver_list:[],tran_list:[],order_driver:{driver_id:""},order_tran:{tran_id:""},order_money:"",tran_money:"",jl:2,zl:100,juli:1,zhongliang:1,heji:0}},methods:{load:function(){var e=this;w["a"].get("/api/OrderController/adminFindOrderFlagIs0",{params:{currentPage:this.currentPage,pageSize:this.pageSize}}).then((function(t){console.log(t),e.tableData=t.data.list,e.total=t.data.total}))},handleSizeChange:function(e){this.pageSize=e,this.load()},handleCurrentChange:function(e){this.currentPage=e,this.load()},findOrderById:function(e){var t=this;this.dialogVisible=!0,w["a"].get("/api/OrderController/adminFindOrderContent",{params:{order_id:e}}).then((function(e){console.log(e.data),t.order_form=e.data})),this.load()},findDriverFlagIs0:function(){var e=this;w["a"].get("/api/OrderController/findDriverFlagIs0").then((function(t){0==t.code?e.driver_list=t.data:x["a"].error({message:t.message,type:"error"})}))},findTranFlagIs1:function(){var e=this;w["a"].get("/api/OrderController/findTranFlagIs1").then((function(t){0==t.code?e.tran_list=t.data:x["a"].error({message:t.message,type:"error"})}))},close:function(){this.dialogVisible=!1},updateOrder:function(){var e=this;this.order_form.order_driver=this.order_driver,this.order_form.order_tran=this.order_tran,this.order_form.order_money=this.order_money,w["a"].put("/api/OrderController/adminUpdateOrder",this.order_form).then((function(t){0==t.code?e.dialogVisible=!1:x["a"].error({message:t.message,type:"error"})})),this.load()},handleChange1:function(){this.jisuan()},handleChange2:function(){this.jisuan()},handleChange3:function(){this.jisuan()},handleChange4:function(){this.jisuan()},jisuan:function(){this.heji=this.juli*this.jl+this.zhongliang*this.zl,this.total_money()},getTran_money:function(e){var t=this;w["a"].get("/api/TranController/findTranById",{params:{tran_id:e}}).then((function(e){t.tran_money=e.data.tran_money,t.total_money()}))},total_money:function(){this.order_money=this.heji+this.tran_money}},created:function(){this.load(),this.findDriverFlagIs0(),this.findTranFlagIs1()}};F.render=z;t["default"]=F}}]);
//# sourceMappingURL=chunk-2d0a47d9.4958e3e8.js.map