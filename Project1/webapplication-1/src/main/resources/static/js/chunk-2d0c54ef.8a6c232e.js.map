{"version":3,"sources":["webpack:///./src/views/admin/Car.vue","webpack:///./src/views/admin/Car.vue?5f2d"],"names":["style","class","type","round","open","placeholder","search_tran_name","clearable","load","ref","data","tableData","cell-style","header-cell-style","tooltip-effect","isShow","prop","label","default","scope","row","tran_state","size","icon","findCarById","tran_id","handleSizeChange","handleCurrentChange","current-page","currentPage","page-sizes","page-size","pageSize","layout","total","title","dialogVisible","width","footer","tran_form","saveCar","updateCar","label-position","labelPosition","label-width","model","tran_name","tran_money","name","methods","request","get","params","this","then","res","console","log","list","val","post","code","success","message","error","put","created","render"],"mappings":"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","file":"js/chunk-2d0c54ef.8a6c232e.js","sourcesContent":["<template>\r\n  <div style=\"padding: 10px\">\r\n    <!-- 头信息 - 新增、搜索、批量操作 -->\r\n    <div>\r\n      <div style=\"float: left;margin: 10px\">\r\n        <el-button type=\"success\" round @click=\"open\">新增运输工具</el-button>\r\n      </div>\r\n\r\n      <div style=\"margin-top: 10px; float: right;margin-right: 50px\">\r\n        <el-input placeholder=\"请输入名称\" v-model=\"search_tran_name\" clearable style=\"width: 200px\"></el-input>\r\n        <el-button type=\"primary\" round style=\"margin-left: 5px\" @click=\"load()\">查询</el-button>\r\n      </div>\r\n\r\n    </div>\r\n    <!-- 表格 -->\r\n    <div style=\"margin-top: 10px\">\r\n      <el-table\r\n        ref=\"multipleTable\"\r\n        :data=\"tableData\"\r\n        :cell-style=\"{textAlign:'center'}\"\r\n        :header-cell-style=\"{textAlign:'center'}\"\r\n        tooltip-effect=\"dark\"\r\n        style=\"width: 100%\"\r\n      >\r\n        <el-table-column prop=\"tran_id\" label=\"id\" v-if=\"isShow\"></el-table-column>\r\n        <el-table-column prop=\"tran_name\" label=\"运输工具名称\"></el-table-column>\r\n        <el-table-column prop=\"tran_state\" label=\"运输工具状态\">\r\n          <template #default=\"scope\">\r\n            <el-tag type=\"success\" v-if=\"scope.row.tran_state==1\">空闲</el-tag>\r\n            <el-tag type=\"danger\" v-if=\"scope.row.tran_state==0\">执行任务中</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"tran_money\" label=\"运输起步费用\"></el-table-column>\r\n        <el-table-column label=\"操作\">\r\n          <template #default=\"scope\">\r\n            <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-edit\"\r\n                       @click=\"findCarById(scope.row.tran_id)\">\r\n              编辑\r\n            </el-button>\r\n\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <!-- 分页 -->\r\n    <div style=\"margin-top: 10px\">\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"currentPage\"\r\n        :page-sizes=\"[5, 10, 15]\"\r\n        :page-size=\"pageSize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\">\r\n      </el-pagination>\r\n    </div>\r\n    <!-- 弹窗 -->\r\n    <div>\r\n      <el-dialog title=\"编辑运输工具\" v-model=\"dialogVisible\" width=\"35%\">\r\n        <div style=\"width: 350px;margin-left: 40px\">\r\n          <el-form :label-position=\"labelPosition\" label-width=\"100px\" :model=\"tran_form\">\r\n            <el-form-item label=\"运输工具名称:\">\r\n              <el-input v-model=\"tran_form.tran_name\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"运输起步费用:\">\r\n              <el-input v-model=\"tran_form.tran_money\"></el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n        <template #footer>\r\n    <span class=\"dialog-footer\">\r\n      <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n\r\n      <el-button type=\"primary\" @click=\"saveCar\" v-if=\"tran_form.tran_id == null\">增加运输工具</el-button>\r\n      <el-button type=\"primary\" @click=\"updateCar\" v-if=\"tran_form.tran_id != null\">>修改运输工具</el-button>\r\n    </span>\r\n        </template>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import request from \"../../utils/request\";\r\n  import {ElMessage} from 'element-plus'\r\n\r\n  export default {\r\n    name: \"Car\",\r\n    data() {\r\n      return {\r\n        //表格数据\r\n        tableData: [],\r\n        //弹窗\r\n        dialogVisible: false,\r\n        //快捷查询的名称\r\n        search_tran_name: '',\r\n        //当前页数\r\n        currentPage: 1,\r\n        //每页大小\r\n        pageSize: 5,\r\n        //总条数\r\n        total: 0,\r\n        //隐藏项目\r\n        isShow: false,\r\n        //表单对齐方式\r\n        labelPosition: 'right',\r\n        //表单数据\r\n        tran_form: {}\r\n      }\r\n    },\r\n    methods: {\r\n      //读取列表数据\r\n      load() {\r\n        request.get('/api/TranController/findTranList', {\r\n          params: {\r\n            tran_name: this.search_tran_name,\r\n            currentPage: this.currentPage,\r\n            pageSize: this.pageSize\r\n          }\r\n        }).then(res => {\r\n          console.log(res)\r\n          this.tableData = res.data.list\r\n          this.total = res.data.total\r\n        })\r\n      },\r\n      //改变每页条数\r\n      handleSizeChange(val) {\r\n        this.pageSize = val\r\n        this.load()\r\n      },\r\n      //改变当前页\r\n      handleCurrentChange(val) {\r\n        this.currentPage = val\r\n        this.load()\r\n      },\r\n      // 增加打卡窗口\r\n      open() {\r\n        this.tran_form = {}\r\n        this.dialogVisible = true\r\n      },\r\n\r\n      //增加运输工具\r\n      saveCar() {\r\n        request.post('/api/TranController/saveTran', this.tran_form).then(res => {\r\n          if (res.code == 0) {\r\n            ElMessage.success({\r\n              message: res.message,\r\n              type: 'success'\r\n            });\r\n          } else {\r\n            ElMessage.error({\r\n              message: res.message,\r\n              type: 'error'\r\n            });\r\n          }\r\n          //关闭对话框\r\n          this.dialogVisible = false\r\n          //load数据\r\n          this.load()\r\n        })\r\n      },\r\n      /*提前查询*/\r\n      findCarById(tran_id) {\r\n        this.dialogVisible = true\r\n        request.get('/api/TranController/findTranById', {\r\n          params: {\r\n            tran_id: tran_id\r\n          }\r\n        }).then(res => {\r\n          if (res.code == 0) {\r\n            this.dialogVisible = true\r\n            this.tran_form = res.data\r\n\r\n          } else {\r\n            ElMessage.error({\r\n              message: res.message,\r\n              type: 'error'\r\n            });\r\n          }\r\n        })\r\n      },\r\n      /*修改*/\r\n      updateCar() {\r\n        request.put('/api/TranController/updateTran', this.tran_form).then(res => {\r\n          if (res.code == 0) {\r\n            ElMessage.success({\r\n              message: res.message,\r\n              type: 'success'\r\n            });\r\n\r\n          } else {\r\n            ElMessage.error({\r\n              message: res.message,\r\n              type: 'error'\r\n            });\r\n          }\r\n          this.dialogVisible = false\r\n          this.load()\r\n        })\r\n      }\r\n\r\n\r\n    },\r\n    created() {\r\n      this.load()\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./Car.vue?vue&type=template&id=f940fee4\"\nimport script from \"./Car.vue?vue&type=script&lang=js\"\nexport * from \"./Car.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}