{"version":3,"sources":["webpack:///./src/views/admin/Customer.vue","webpack:///./src/views/admin/Customer.vue?48c3"],"names":["style","class","type","round","open","placeholder","search_customer_name","clearable","load","ref","data","tableData","cell-style","header-cell-style","tooltip-effect","isShow","prop","label","default","size","icon","findCustomerById","scope","row","customer_id","handleSizeChange","handleCurrentChange","current-page","currentPage","page-sizes","page-size","pageSize","layout","total","title","dialogVisible","width","footer","customer_form","saveCustomer","updateCustomer","label-position","labelPosition","label-width","model","customer_name","customer_tel","customer_username","customer_password","name","methods","request","get","params","this","then","res","console","log","list","val","post","code","success","message","error","deleteCustomer","delete","put","created","render"],"mappings":"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","file":"js/chunk-2d237162.f7655781.js","sourcesContent":["<template>\r\n  <div style=\"padding: 10px\">\r\n    <!-- 头信息 - 新增、搜索、批量操作 -->\r\n    <div>\r\n      <div style=\"float: left;margin: 10px\">\r\n        <el-button type=\"success\" round @click=\"open\">新增客户</el-button>\r\n      </div>\r\n\r\n      <div style=\"margin-top: 10px; float: right;margin-right: 50px\">\r\n        <el-input placeholder=\"请输入名称\" v-model=\"search_customer_name\" clearable style=\"width: 200px\"></el-input>\r\n        <el-button type=\"primary\" round style=\"margin-left: 5px\" @click=\"load()\">查询</el-button>\r\n      </div>\r\n\r\n    </div>\r\n    <!-- 表格 -->\r\n    <div style=\"margin-top: 10px\">\r\n      <el-table\r\n        ref=\"multipleTable\"\r\n        :data=\"tableData\"\r\n        :cell-style=\"{textAlign:'center'}\"\r\n        :header-cell-style=\"{textAlign:'center'}\"\r\n        tooltip-effect=\"dark\"\r\n        style=\"width: 100%\"\r\n      >\r\n        <el-table-column prop=\"customer_id\" label=\"id\" v-if=\"isShow\"></el-table-column>\r\n        <el-table-column prop=\"customer_name\" label=\"客户名称\"></el-table-column>\r\n        <el-table-column prop=\"customer_username\" label=\"客户昵称\"></el-table-column>\r\n        <el-table-column prop=\"customer_tel\" label=\"客户电话\"></el-table-column>\r\n\r\n        <el-table-column label=\"操作\">\r\n          <template #default=\"scope\">\r\n            <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-edit\"\r\n                       @click=\"findCustomerById(scope.row.customer_id)\">\r\n              编辑\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <!-- 分页 -->\r\n    <div style=\"margin-top: 10px\">\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"currentPage\"\r\n        :page-sizes=\"[5, 10, 15]\"\r\n        :page-size=\"pageSize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\">\r\n      </el-pagination>\r\n    </div>\r\n    <!-- 弹窗 -->\r\n    <div>\r\n      <el-dialog title=\"编辑客户\" v-model=\"dialogVisible\" width=\"35%\">\r\n        <div style=\"width: 350px;margin-left: 40px\">\r\n          <el-form :label-position=\"labelPosition\" label-width=\"80px\" :model=\"customer_form\">\r\n            <el-form-item label=\"客户姓名\">\r\n              <el-input v-model=\"customer_form.customer_name\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"客户电话\">\r\n              <el-input v-model=\"customer_form.customer_tel\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"用户名\">\r\n              <el-input v-model=\"customer_form.customer_username\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"登录密码\">\r\n              <el-input type=\"password\" v-model=\"customer_form.customer_password\"></el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n        <template #footer>\r\n    <span class=\"dialog-footer\">\r\n      <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n\r\n      <el-button type=\"primary\" @click=\"saveCustomer\" v-if=\"customer_form.customer_id == null\">增加客户</el-button>\r\n      <el-button type=\"primary\" @click=\"updateCustomer\" v-if=\"customer_form.customer_id != null\">>修改客户</el-button>\r\n    </span>\r\n        </template>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import request from \"../../utils/request\";\r\n  import {ElMessage} from 'element-plus'\r\n\r\n  export default {\r\n    name: \"Customer\",\r\n    data() {\r\n      return {\r\n        //表格数据\r\n        tableData: [],\r\n        //弹窗\r\n        dialogVisible: false,\r\n        //快捷查询的名称\r\n        search_customer_name: '',\r\n        //当前页数\r\n        currentPage: 1,\r\n        //每页大小\r\n        pageSize: 5,\r\n        //总条数\r\n        total: 0,\r\n        //隐藏项目\r\n        isShow: false,\r\n        //表单对齐方式\r\n        labelPosition: 'right',\r\n        //表单数据\r\n        customer_form: {}\r\n      }\r\n    },\r\n    methods: {\r\n      //读取列表数据\r\n      load() {\r\n        request.get('/api/CustomerController/findCustomerList', {\r\n          params: {\r\n            customer_name: this.search_customer_name,\r\n            currentPage: this.currentPage,\r\n            pageSize: this.pageSize\r\n          }\r\n        }).then(res => {\r\n          console.log(res)\r\n          this.tableData = res.data.list\r\n          this.total = res.data.total\r\n        })\r\n      },\r\n      //改变每页条数\r\n      handleSizeChange(val) {\r\n        this.pageSize = val\r\n        this.load()\r\n      },\r\n      //改变当前页\r\n      handleCurrentChange(val) {\r\n        this.currentPage = val\r\n        this.load()\r\n      },\r\n      // 增加打卡窗口\r\n      open() {\r\n        this.customer_form = {}\r\n        this.dialogVisible = true\r\n      },\r\n\r\n      //增加客户\r\n      saveCustomer() {\r\n        request.post('/api/CustomerController/saveCustomer', this.customer_form).then(res => {\r\n          if (res.code == 0) {\r\n            ElMessage.success({\r\n              message: res.message,\r\n              type: 'success'\r\n            });\r\n          } else {\r\n            ElMessage.error({\r\n              message: res.message,\r\n              type: 'error'\r\n            });\r\n          }\r\n          //关闭对话框\r\n          this.dialogVisible = false\r\n          //load数据\r\n          this.load()\r\n        })\r\n      },\r\n      deleteCustomer(customer_id) {\r\n        request.delete('/api/CustomerController/deleteCustomer', {\r\n          params: {\r\n            customer_id: customer_id\r\n          }\r\n        }).then(res => {\r\n          if (res.code == 0) {\r\n            ElMessage.success({\r\n              message: res.message,\r\n              type: 'success'\r\n            });\r\n          } else {\r\n            ElMessage.error({\r\n              message: res.message,\r\n              type: 'error'\r\n            });\r\n          }\r\n          //load数据\r\n          this.load()\r\n        })\r\n      },\r\n      /*提前查询*/\r\n      findCustomerById(customer_id) {\r\n        this.dialogVisible = true\r\n        request.get('/api/CustomerController/findCustomerById', {\r\n          params: {\r\n            customer_id: customer_id\r\n          }\r\n        }).then(res => {\r\n          if (res.code == 0) {\r\n            this.dialogVisible = true\r\n            this.customer_form = res.data\r\n\r\n          } else {\r\n            ElMessage.error({\r\n              message: res.message,\r\n              type: 'error'\r\n            });\r\n          }\r\n        })\r\n      },\r\n      /*修改*/\r\n      updateCustomer() {\r\n        request.put('/api/CustomerController/updateCustomer', this.customer_form).then(res => {\r\n          if (res.code == 0) {\r\n            ElMessage.success({\r\n              message: res.message,\r\n              type: 'success'\r\n            });\r\n\r\n          } else {\r\n            ElMessage.error({\r\n              message: res.message,\r\n              type: 'error'\r\n            });\r\n          }\r\n          this.dialogVisible = false\r\n          this.load()\r\n        })\r\n      }\r\n\r\n\r\n    },\r\n    created() {\r\n      this.load()\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./Customer.vue?vue&type=template&id=c293e302\"\nimport script from \"./Customer.vue?vue&type=script&lang=js\"\nexport * from \"./Customer.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}