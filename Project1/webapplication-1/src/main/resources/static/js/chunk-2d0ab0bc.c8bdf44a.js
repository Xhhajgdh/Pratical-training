(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ab0bc"],{1436:function(e,r,t){"use strict";t.r(r);var o=t("7a23"),a={style:{padding:"10px"}},l={style:{"margin-top":"10px",float:"right","margin-right":"50px"}},n=Object(o["p"])("查询"),d={style:{"margin-top":"10px"}},c={key:0,style:{color:"red"}},u={key:1,style:{color:"deeppink"}},i={key:2,style:{color:"orange"}},b={key:3,style:{color:"green"}},s=Object(o["p"])("修改"),j=Object(o["p"])("撤销"),O=Object(o["p"])("修改"),m=Object(o["p"])("无法操作"),p={style:{"margin-top":"10px"}},_={style:{width:"350px","margin-left":"40px"}},f={key:0},g={class:"dialog-footer"},h=Object(o["p"])("取 消"),y=Object(o["p"])("确认订单");function k(e,r,t,k,V,w){var q=Object(o["U"])("el-input"),v=Object(o["U"])("el-button"),C=Object(o["U"])("el-table-column"),U=Object(o["U"])("el-tag"),x=Object(o["U"])("el-table"),z=Object(o["U"])("el-pagination"),L=Object(o["U"])("el-form-item"),S=Object(o["U"])("el-form"),I=Object(o["U"])("el-dialog");return Object(o["L"])(),Object(o["m"])("div",a,[Object(o["n"])("div",null,[Object(o["n"])("div",l,[Object(o["q"])(q,{placeholder:"请输入名称",modelValue:V.search_customer_name,"onUpdate:modelValue":r[0]||(r[0]=function(e){return V.search_customer_name=e}),clearable:"",style:{width:"200px"}},null,8,["modelValue"]),Object(o["q"])(v,{type:"primary",round:"",style:{"margin-left":"5px"},onClick:r[1]||(r[1]=function(e){return w.load()})},{default:Object(o["jb"])((function(){return[n]})),_:1})])]),Object(o["n"])("div",d,[Object(o["q"])(x,{ref:"multipleTable",data:V.tableData,"cell-style":{textAlign:"center"},"header-cell-style":{textAlign:"center"},"tooltip-effect":"dark",style:{width:"100%"}},{default:Object(o["jb"])((function(){return[V.isShow?(Object(o["L"])(),Object(o["k"])(C,{key:0,prop:"order_id",label:"id"})):Object(o["l"])("",!0),Object(o["q"])(C,{prop:"order_no",label:"订单号码",width:"95px"}),Object(o["q"])(C,{prop:"order_state",label:"订单状态",width:"70px"},{default:Object(o["jb"])((function(e){return[0==e.row.order_state?(Object(o["L"])(),Object(o["m"])("span",c,"待审核")):Object(o["l"])("",!0),1==e.row.order_state?(Object(o["L"])(),Object(o["m"])("span",u,"运输中")):Object(o["l"])("",!0),2==e.row.order_state?(Object(o["L"])(),Object(o["m"])("span",i,"已到货")):Object(o["l"])("",!0),3==e.row.order_state?(Object(o["L"])(),Object(o["m"])("span",b,"订单完成")):Object(o["l"])("",!0)]})),_:1}),Object(o["q"])(C,{prop:"send_date",label:"发货时间",width:"85px"}),Object(o["q"])(C,{prop:"arrive_date",label:"到达时间",width:"85px"}),Object(o["q"])(C,{prop:"send_address",label:"发货地址"}),Object(o["q"])(C,{prop:"arrive_address",label:"送货地址"}),Object(o["q"])(C,{prop:"order_create_date",label:"订单创建时间"}),Object(o["q"])(C,{prop:"order_arrive_username",label:"收件人",width:"70px"}),Object(o["q"])(C,{prop:"order_arrive_usertel",label:"收件人电话"}),Object(o["q"])(C,{prop:"order_driver.driver_name",label:"司机名称",width:"70px"}),Object(o["q"])(C,{prop:"order_tran.tran_name",label:"运输工具"}),Object(o["q"])(C,{prop:"order_state",label:"操作",width:"200px"},{default:Object(o["jb"])((function(e){return[0==e.row.order_state?(Object(o["L"])(),Object(o["k"])(v,{key:0,size:"mini",type:"danger",onClick:function(r){return w.updateOrderById(e.row.order_id)}},{default:Object(o["jb"])((function(){return[s]})),_:2},1032,["onClick"])):Object(o["l"])("",!0),0==e.row.order_state?(Object(o["L"])(),Object(o["k"])(v,{key:1,size:"mini",type:"danger",onClick:function(r){return w.delOrderById(e.row.order_id)}},{default:Object(o["jb"])((function(){return[j]})),_:2},1032,["onClick"])):Object(o["l"])("",!0),1==e.row.order_state?(Object(o["L"])(),Object(o["k"])(v,{key:2,size:"mini",type:"danger",onClick:function(r){return w.updateOrderById(e.row.order_id)}},{default:Object(o["jb"])((function(){return[O]})),_:2},1032,["onClick"])):Object(o["l"])("",!0),2==e.row.order_state||3==e.row.order_state?(Object(o["L"])(),Object(o["k"])(U,{key:3,type:"danger"},{default:Object(o["jb"])((function(){return[m]})),_:1})):Object(o["l"])("",!0)]})),_:1})]})),_:1},8,["data"])]),Object(o["n"])("div",p,[Object(o["q"])(z,{onSizeChange:w.handleSizeChange,onCurrentChange:w.handleCurrentChange,"current-page":V.currentPage,"page-sizes":[5,10,15],"page-size":V.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:V.total},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])]),Object(o["n"])("div",null,[Object(o["q"])(I,{title:"审核客户",modelValue:V.dialogVisible,"onUpdate:modelValue":r[12]||(r[12]=function(e){return V.dialogVisible=e}),width:"35%"},{footer:Object(o["jb"])((function(){return[Object(o["n"])("span",g,[Object(o["q"])(v,{onClick:e.close},{default:Object(o["jb"])((function(){return[h]})),_:1},8,["onClick"]),Object(o["q"])(v,{type:"primary",onClick:r[11]||(r[11]=function(e){return w.updateOrder()})},{default:Object(o["jb"])((function(){return[y]})),_:1})])]})),default:Object(o["jb"])((function(){return[Object(o["n"])("div",_,[Object(o["q"])(S,{"label-position":V.labelPosition,"label-width":"80px",model:V.order_form},{default:Object(o["jb"])((function(){return[Object(o["q"])(L,{label:"订单编号"},{default:Object(o["jb"])((function(){return[Object(o["q"])(q,{modelValue:V.order_form.order_no,"onUpdate:modelValue":r[2]||(r[2]=function(e){return V.order_form.order_no=e}),readonly:""},null,8,["modelValue"])]})),_:1}),Object(o["q"])(L,{label:"发货地址"},{default:Object(o["jb"])((function(){return[0==V.order_form.order_state?(Object(o["L"])(),Object(o["k"])(q,{key:0,modelValue:V.order_form.send_address,"onUpdate:modelValue":r[3]||(r[3]=function(e){return V.order_form.send_address=e})},null,8,["modelValue"])):Object(o["l"])("",!0),1==V.order_form.order_state?(Object(o["L"])(),Object(o["k"])(q,{key:1,modelValue:V.order_form.send_address,"onUpdate:modelValue":r[4]||(r[4]=function(e){return V.order_form.send_address=e}),readonly:""},null,8,["modelValue"])):Object(o["l"])("",!0)]})),_:1}),Object(o["q"])(L,{label:"送货地址"},{default:Object(o["jb"])((function(){return[0==V.order_form.order_state?(Object(o["L"])(),Object(o["k"])(q,{key:0,modelValue:V.order_form.arrive_address,"onUpdate:modelValue":r[5]||(r[5]=function(e){return V.order_form.arrive_address=e})},null,8,["modelValue"])):Object(o["l"])("",!0),1==V.order_form.order_state?(Object(o["L"])(),Object(o["k"])(q,{key:1,modelValue:V.order_form.arrive_address,"onUpdate:modelValue":r[6]||(r[6]=function(e){return V.order_form.arrive_address=e}),readonly:""},null,8,["modelValue"])):Object(o["l"])("",!0)]})),_:1}),Object(o["q"])(L,{label:"创建时间"},{default:Object(o["jb"])((function(){return[Object(o["q"])(q,{modelValue:V.order_form.order_create_date,"onUpdate:modelValue":r[7]||(r[7]=function(e){return V.order_form.order_create_date=e}),readonly:""},null,8,["modelValue"])]})),_:1}),Object(o["q"])(L,{label:"收件人员"},{default:Object(o["jb"])((function(){return[Object(o["q"])(q,{modelValue:V.order_form.order_arrive_username,"onUpdate:modelValue":r[8]||(r[8]=function(e){return V.order_form.order_arrive_username=e})},null,8,["modelValue"])]})),_:1}),Object(o["q"])(L,{label:"联系电话"},{default:Object(o["jb"])((function(){return[Object(o["q"])(q,{modelValue:V.order_form.order_arrive_usertel,"onUpdate:modelValue":r[9]||(r[9]=function(e){return V.order_form.order_arrive_usertel=e})},null,8,["modelValue"])]})),_:1}),1==V.order_form.order_state?(Object(o["L"])(),Object(o["m"])("div",f,[Object(o["q"])(L,{label:"运费"},{default:Object(o["jb"])((function(){return[Object(o["q"])(q,{modelValue:V.order_form.order_money,"onUpdate:modelValue":r[10]||(r[10]=function(e){return V.order_form.order_money=e}),readonly:""},null,8,["modelValue"])]})),_:1})])):Object(o["l"])("",!0)]})),_:1},8,["label-position","model"])])]})),_:1},8,["modelValue"])])])}var V=t("b775"),w=t("4995"),q={name:"CustomerFindOrder",data:function(){return{tableData:[],dialogVisible:!1,search_customer_name:"",currentPage:1,pageSize:5,total:0,isShow:!1,labelPosition:"right",customer_form:{},customer12:JSON.parse(sessionStorage.getItem("customer")),order_form:{},readonly:!0}},methods:{load:function(){var e=this;V["a"].get("/api/CustomerController/findCustomerOwnOrder",{params:{currentPage:this.currentPage,pageSize:this.pageSize,customer_id:this.customer12.customer_id}}).then((function(r){console.log(r),e.tableData=r.data.list,e.total=r.data.total}))},handleSizeChange:function(e){this.pageSize=e,this.load()},handleCurrentChange:function(e){this.currentPage=e,this.load()},delOrderById:function(e){var r=this;V["a"].delete("/api/OrderController/delOrderById",{params:{order_id:e}}).then((function(e){0==e.code?(w["a"].success({message:e.message,type:"success"}),r.load()):w["a"].error({message:e.message,type:"error"})}))},updateOrderById:function(e){var r=this;this.dialogVisible=!0,V["a"].get("/api/OrderController/adminFindOrderContent",{params:{order_id:e}}).then((function(e){r.order_form=e.data}))},updateOrder:function(){var e=this;V["a"].put("/api/OrderController/customerUpdateOrder",this.order_form).then((function(r){0==r.code?(w["a"].success({message:r.message,type:"success"}),e.load(),e.dialogVisible=!1):w["a"].error({message:r.message,type:"error"})}))}},created:function(){this.load()}};q.render=k;r["default"]=q}}]);
//# sourceMappingURL=chunk-2d0ab0bc.c8bdf44a.js.map