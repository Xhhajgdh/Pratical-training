(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d221be6"],{cc3c:function(e,r,t){"use strict";t.r(r);var a=t("7a23"),n={style:{"padding-left":"10px"}},o={style:{"margin-top":"20px",display:"flex"}},l=Object(a["p"])("进行中的运单"),d=Object(a["n"])("div",{style:{flex:"1"}},null,-1),i={style:{width:"270px",display:"flex","margin-right":"20px"}},c=Object(a["p"])("搜索"),u={style:{margin:"10px"}},b={key:0,style:{color:"red"}},s={key:1,style:{color:"darkgoldenrod"}},j={key:2,style:{color:"green"}},O={key:3,style:{color:"salmon"}},p=Object(a["p"])("下一步"),f={class:"block"},_={style:{width:"350px","margin-left":"40px"}},m={class:"dialog-footer"},h=Object(a["p"])("取 消"),g=Object(a["p"])("下一步");function v(e,r,t,v,y,q){var w=Object(a["U"])("el-button"),V=Object(a["U"])("el-input"),C=Object(a["U"])("el-table-column"),k=Object(a["U"])("el-popconfirm"),S=Object(a["U"])("el-table"),U=Object(a["U"])("el-pagination"),z=Object(a["U"])("el-form-item"),x=Object(a["U"])("el-form"),D=Object(a["U"])("el-dialog");return Object(a["L"])(),Object(a["m"])("div",n,[Object(a["n"])("div",o,[Object(a["n"])("div",null,[Object(a["q"])(w,{type:"success",onClick:q.findOneOrder},{default:Object(a["jb"])((function(){return[l]})),_:1},8,["onClick"])]),d,Object(a["n"])("div",i,[Object(a["q"])(V,{placeholder:"请输入目的地",modelValue:y.search_address,"onUpdate:modelValue":r[0]||(r[0]=function(e){return y.search_address=e}),clearable:""},null,8,["modelValue"]),Object(a["q"])(w,{type:"primary",icon:"el-icon-search",style:{"margin-left":"5px"},onClick:q.searchByName},{default:Object(a["jb"])((function(){return[c]})),_:1},8,["onClick"])])]),Object(a["n"])("div",u,[Object(a["q"])(S,{data:y.tableData,style:{width:"100%"},"header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"},ref:"multipleTable","tooltip-effect":"dark"},{default:Object(a["jb"])((function(){return[Object(a["q"])(C,{prop:"order_no",label:"运单号",width:"100"}),Object(a["q"])(C,{prop:"send_date",label:"发货日期",width:"120"}),Object(a["q"])(C,{prop:"arrive_date",label:"到货日期",width:"120"}),Object(a["q"])(C,{prop:"order_create_date",label:"运单创建时间",width:"120"}),Object(a["q"])(C,{prop:"order_customer.customer_name",label:"下单客户",width:"80"}),Object(a["q"])(C,{prop:"send_address",label:"发货地址",width:"100"}),Object(a["q"])(C,{prop:"arrive_address",label:"收货地址",width:"100"}),Object(a["q"])(C,{prop:"order_arrive_username",label:"收货人姓名",width:"100"}),Object(a["q"])(C,{prop:"order_arrive_usertel",label:"收货人电话",width:"120"}),Object(a["q"])(C,{prop:"order_money",label:"运费",width:"70"}),Object(a["q"])(C,{prop:"order_tran.tran_name",label:"运输工具",width:"70"}),Object(a["q"])(C,{prop:"order_state",label:"运单状态",width:"70"},{default:Object(a["jb"])((function(e){return[0==e.row.order_state?(Object(a["L"])(),Object(a["m"])("span",b,"待审核")):Object(a["l"])("",!0),1==e.row.order_state?(Object(a["L"])(),Object(a["m"])("span",s,"运输中")):Object(a["l"])("",!0),2==e.row.order_state?(Object(a["L"])(),Object(a["m"])("span",j,"已到货")):Object(a["l"])("",!0),3==e.row.order_state?(Object(a["L"])(),Object(a["m"])("span",O,"订单完成")):Object(a["l"])("",!0)]})),_:1}),Object(a["q"])(C,{label:"操作",width:"100"},{default:Object(a["jb"])((function(e){return[3!=e.row.order_state?(Object(a["L"])(),Object(a["k"])(k,{key:0,title:"确定进行下一步吗？",onConfirm:function(r){return q.changeOrderState(e.row.order_id,e.row.order_state,e.row.order_tran.tran_id,e.row.order_driver.driver_id)}},{reference:Object(a["jb"])((function(){return[Object(a["q"])(w,{size:"mini",type:"success"},{default:Object(a["jb"])((function(){return[p]})),_:1})]})),_:2},1032,["onConfirm"])):Object(a["l"])("",!0)]})),_:1})]})),_:1},8,["data"]),Object(a["n"])("div",f,[Object(a["q"])(U,{onSizeChange:q.handleSizeChange,onCurrentChange:q.handleCurrentChange,"current-page":y.currentPage,"page-sizes":[5,10],"page-size":y.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:y.total},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])]),Object(a["n"])("div",null,[Object(a["q"])(D,{title:"添加用户",modelValue:y.dialogVisible,"onUpdate:modelValue":r[9]||(r[9]=function(e){return y.dialogVisible=e}),width:"35%"},{footer:Object(a["jb"])((function(){return[Object(a["n"])("span",m,[Object(a["q"])(w,{onClick:r[7]||(r[7]=function(e){return y.dialogVisible=!1})},{default:Object(a["jb"])((function(){return[h]})),_:1}),Object(a["q"])(w,{type:"primary",onClick:r[8]||(r[8]=function(e){return q.changeOrderState(y.order_form.order_id,y.order_form.order_state,y.order_form.order_tran.tran_id,y.order_form.order_driver.driver_id)})},{default:Object(a["jb"])((function(){return[g]})),_:1})])]})),default:Object(a["jb"])((function(){return[Object(a["n"])("div",_,[Object(a["q"])(x,{"label-position":e.labelPosition,"label-width":"100px",model:y.order_form},{default:Object(a["jb"])((function(){return[Object(a["q"])(z,{label:"运单号"},{default:Object(a["jb"])((function(){return[Object(a["q"])(V,{modelValue:y.order_form.order_no,"onUpdate:modelValue":r[1]||(r[1]=function(e){return y.order_form.order_no=e}),readonly:""},null,8,["modelValue"])]})),_:1}),Object(a["q"])(z,{label:"发货地址"},{default:Object(a["jb"])((function(){return[Object(a["q"])(V,{modelValue:y.order_form.send_address,"onUpdate:modelValue":r[2]||(r[2]=function(e){return y.order_form.send_address=e}),readonly:""},null,8,["modelValue"])]})),_:1}),Object(a["q"])(z,{label:"目的地"},{default:Object(a["jb"])((function(){return[Object(a["q"])(V,{modelValue:y.order_form.arrive_address,"onUpdate:modelValue":r[3]||(r[3]=function(e){return y.order_form.arrive_address=e}),readonly:""},null,8,["modelValue"])]})),_:1}),Object(a["q"])(z,{label:"收货人姓名"},{default:Object(a["jb"])((function(){return[Object(a["q"])(V,{modelValue:y.order_form.order_arrive_username,"onUpdate:modelValue":r[4]||(r[4]=function(e){return y.order_form.order_arrive_username=e}),readonly:""},null,8,["modelValue"])]})),_:1}),Object(a["q"])(z,{label:"收货人电话"},{default:Object(a["jb"])((function(){return[Object(a["q"])(V,{modelValue:y.order_form.order_arrive_usertel,"onUpdate:modelValue":r[5]||(r[5]=function(e){return y.order_form.order_arrive_usertel=e}),readonly:""},null,8,["modelValue"])]})),_:1}),Object(a["q"])(z,{label:"运单到达时间"},{default:Object(a["jb"])((function(){return[Object(a["q"])(V,{modelValue:y.order_form.arrive_date,"onUpdate:modelValue":r[6]||(r[6]=function(e){return y.order_form.arrive_date=e}),readonly:""},null,8,["modelValue"])]})),_:1})]})),_:1},8,["label-position","model"])])]})),_:1},8,["modelValue"])])])}var y=t("b775"),q=t("4995"),w={name:"DriverOrderTable",data:function(){return{driver:JSON.parse(sessionStorage.getItem("driver")),tableData:[],total:0,pageSize:5,currentPage:1,search_address:"",dialogVisible:!1,dialogVisible2:!1,order_form:{},upid:[]}},methods:{load:function(){var e=this;y["a"].get("/api/DriverController/findOrderByDid",{params:{driver_id:this.driver.driver_id,search_address:this.search_address,currentPage:this.currentPage,pageSize:this.pageSize}}).then((function(r){e.tableData=r.data.list,e.total=r.data.total,e.pageSize=r.data.pageSize,e.currentPage=r.data.currentPage}))},handleSizeChange:function(e){this.pageSize=e,this.load()},handleCurrentChange:function(e){this.currentPage=e,this.load()},changeOrderState:function(e,r,t,a){var n=this;this.upid[0]=e,this.upid[1]=r,this.upid[2]=a,this.upid[3]=t,console.log("aa:"+e+"-"+r+"-"+t+"-"+a),y["a"].put("/api/DriverController/changeOrderState",this.upid).then((function(e){n.load(),q["a"].success({message:e.message,type:"success"})})),this.dialogVisible=!1},searchByName:function(){this.load()},findOneOrder:function(){var e=this;y["a"].get("/api/DriverController/findOneOrder",{params:{driver_id:this.driver.driver_id}}).then((function(r){0==r.code?(e.order_form=r.data,e.dialogVisible=!0):q["a"].success({message:r.message,type:"success"})}))}},created:function(){this.load()}};w.render=v;r["default"]=w}}]);
//# sourceMappingURL=chunk-2d221be6.4b273a11.js.map